<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Query selector</title>
    <script type="module" src="lib/query-selector.es5.min.js"></script>
  </head>
  <body>
    <query-selector
      id="querySelector"
      queries='{"defaultQuery":[{"displayName":"name","query":"findByName","filters":[{"name":"name","type":"STRING","collection":false}]},{"displayName":"address","query":"findByAddress","filters":[{"name":"address","type":"STRING","collection":false}]},{"displayName":"phoneNumber","query":"findByPhoneNumber","filters":[{"name":"phoneNumber","type":"STRING","collection":false}]},{"displayName":"persistenceId","query":"findByPersistenceId","filters":[{"name":"persistenceId","type":"INTEGER","collection":false}]}],"additionalQuery":[{"displayName":"find","query":"find","filters":[]},{"displayName":"findByNameAndPhoneNumber","query":"findByNameAndPhoneNumber","filters":[{"name":"name","type":"STRING","collection":false},{"name":"phoneNumber","type":"STRING"}]},{"displayName":"findByAddressAndPhoneNumberAndName","query":"findByAddressAndPhoneNumberAndName","filters":[{"name":"address","type":"STRING","collection":false},{"name":"phoneNumber","type":"STRING","collection":false},{"name":"name","type":"STRING","collection":false}]},{"displayName":"query1","query":"query1","filters":[{"name":"name","type":"STRING","collection":false},{"name":"address","type":"STRING","collection":false},{"name":"phoneNumber","type":"STRING","collection":false}]},{"displayName":"query2","query":"query2","filters":[{"name":"name","type":"STRING","collection":false},{"name":"address","type":"STRING","collection":false}]},{"displayName":"query3","query":"query3","filters":[]},{"displayName":"query4","query":"query4","filters":[]},{"displayName":"query5","query":"query5","filters":[]},{"displayName":"query6","query":"query6","filters":[]}]}'
      init='{"query": {"name":"findByNameAndPhoneNumber"},"filters":[{"name":"name","type":"STRING","collection":false,"value":"myName"},{"name":"phoneNumber","type":"STRING","collection":false,"value":"myPhoneNumber"}],"pagination": {"p":2,"c":20}}'
    >
    </query-selector>

    <script>
      function display(e) {
        console.log('Event received (index) ');
        console.log(e);
      }

      let sel = document.getElementById('querySelector');
      sel.addEventListener(
        'paginationPagesChanged',
        e => {
          display(e);
        },
        false,
      );
      sel.addEventListener(
        'paginationElementsChanged',
        e => {
          display(e);
        },
        false,
      );
      sel.addEventListener(
        'filterChanged',
        e => {
          display(e);
        },
        false,
      );
      sel.addEventListener(
        'querySelected',
        e => {
          display(e);
        },
        false,
      );
    </script>
  </body>
</html>
